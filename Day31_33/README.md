**目标**

以MIS系统中的一个简单的页面示例，尝试一下稍微复杂的页面功能，如何进行拆解。

**最终任务需求**

a.这是一个数据报表定制页面，有许多筛选表单，有一个表格，以及几个图表，需要我们在不使用任何框架的情况下，完成这个页面的开发

b.页面初始化的时候，显示默认的数据及图表

c.根据用户的表单选择，可以进行数据和图表的切换，但这些切换动作都是在当前页面中完成

d.用户可以在当前页面上做一些数据修改，我们先设定这些修改仅对自己有效，将数据存在浏览器本地

e.当用户选择了某种数据视图（选择了某些选项所展示的数据及图表）后，可以复制当前URL给其他人，其他人也能看见同样的视图，而不是回到初始化效果

f.一份数据用例：链接: https://pan.baidu.com/s/1ckhyN9_vyKnWgB9icJmBpg 密码: tbwy

**任务**

1、表单的变更事件触发表格的更新，而表格更新依赖的数据来源于表单的选择。

a.表单:用一个Select或者单选，让用户可以选择地区。选项应该包括华东、华南、华北三个地区。

b.数据处理：根据用户选择的地区表单，从完整数据中，把对应选择地区的数据取出来。

c.表格：将上一步取出来数据渲染成表格，表格有一个表头，用于显示数据标题：商品、地区、1月、2月……12月，然后共有14列：商品、地区、以及12个月的销售情况。

d.加入第二个表单，商品种类，依然是select或者radio，自选。

f.两个表单项都存在，做并集的选择;两个表单项的选择互相不干扰，即改变其中一个时候，不会导致另外一个的选项的变化。

2、把地区及商品从单选改成多选，同时，为了方便多选，分别给地区和商品各增加一个全选的CheckBox

a.点击全选时，如果单个选项中只要有一个不是被选上的状态，则进行全选操作

b.点击全选时，如果单个选项中所有选项都已经是被选上的状态，则无反应

c.点击最后一个未被选中的单个选项后，全选CheckBox也要置为被勾选状态

d.如果当前是全选状态，取消任何一个子选项，则全选CheckBox也要置为未勾选状态

e.不允许一个都不勾选，所以当用户想取消唯一一个被勾选的子选项时，无交互反应，不允许取消勾选

3、对表格提出了更复杂的需求

a.当商品选择了一个，地区选择了多个的时候，商品作为第一列，地区作为第二列，并且把商品这一列的单元格做一个合并，只保留一个商品名称

b.当地区选择了一个，商品选择了多个的时候，地区作为第一列，商品作为第二列，并且把地区这一列的单元格做一个合并，只保留一个地区名称

c.当商品和地区都选择了多于一个的情况下，以商品为第一列，地区为第二列，商品列对同样的商品单元格进行合并

d.当商品和地区都只选择一个的情况下，以商品为第一列，地区为第二列





